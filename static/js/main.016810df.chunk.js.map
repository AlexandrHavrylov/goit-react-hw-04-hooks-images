{"version":3,"sources":["components/Button/Button.styled.jsx","components/Button/Button.jsx","components/ImageGalleryItem/ImageGalleryItem.styled.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.styled.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.styled.jsx","components/Modal/Modal.jsx","components/Searchbar/Searchbar.styled.jsx","components/Searchbar/Serachbar.jsx","components/App/App.styled.jsx","servises/image-api.js","components/App/App.jsx","reportWebVitals.js","index.js"],"names":["Btn","styled","button","Button","onClick","page","type","StyledImageGalleryItem","li","GalleryImg","img","ImageGalleryItem","image","openModal","src","webformatURL","alt","ImagesGallery","ul","ImageGallery","images","map","index","Overlay","div","ModalWindow","modal","document","querySelector","Modal","onClose","useEffect","handeEscKeydown","e","code","window","addEventListener","removeEventListener","createPortal","target","currentTarget","largeImageURL","Searchbar","header","SearchForm","form","ButtonLabel","span","Input","input","Serachbar","onSubmit","useState","setImage","className","preventDefault","onChange","value","autoComplete","autoFocus","placeholder","Container","Loader","fetchImage","imgToFind","a","KEY","url","axios","get","response","data","hits","App","isFirstRender","useRef","imgInModal","setImgInModal","setPage","imagesInGallery","setImagesInGallery","setStatus","current","trim","imagesToGallery","length","Error","state","scrollTo","top","behavior","documentElement","scrollHeight","toast","error","fetch","isVisible","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.016810df.chunk.js","sourcesContent":["import styled from \"@emotion/styled\";\r\n\r\nexport const Btn = styled.button`\r\n  padding: 8px 16px;\r\n  border-radius: 2px;\r\n  background-color: #3f51b5;\r\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  text-align: center;\r\n  display: inline-block;\r\n  color: #fff;\r\n  border: 0;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  font-family: inherit;\r\n  font-size: 18px;\r\n  line-height: 24px;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  min-width: 180px;\r\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n\r\n  &:hover,\r\n  &:focus {\r\n    background-color: #303f9f;\r\n  }\r\n`;\r\n","import { Btn } from \"./Button.styled\";\r\n\r\nexport function Button({ onClick, page }) {\r\n  const handeClick = () => {\r\n    const updatedPage = page + 1;\r\n    onClick(updatedPage);\r\n  };\r\n\r\n  return (\r\n    <Btn type=\"button\" onClick={handeClick}>\r\n      Load More\r\n    </Btn>\r\n  );\r\n}\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const StyledImageGalleryItem = styled.li`\r\n  border-radius: 2px;\r\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nexport const GalleryImg = styled.img`\r\n  width: 100%;\r\n  height: 260px;\r\n  object-fit: cover;\r\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  &:hover {\r\n    transform: scale(1.03);\r\n    cursor: zoom-in;\r\n  }\r\n`;\r\n","import { GalleryImg, StyledImageGalleryItem } from \"./ImageGalleryItem.styled\";\r\n\r\nexport function ImageGalleryItem({ image, openModal }) {\r\n  return (\r\n    <StyledImageGalleryItem>\r\n      <GalleryImg\r\n        onClick={() => {\r\n          openModal(image);\r\n        }}\r\n        src={image.webformatURL}\r\n        alt=\"\"\r\n      />\r\n    </StyledImageGalleryItem>\r\n  );\r\n}\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const ImagesGallery = styled.ul`\r\n  display: grid;\r\n  max-width: calc(100vw - 48px);\r\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n  grid-gap: 16px;\r\n  margin-top: 0;\r\n  margin-bottom: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n`;\r\n","import { ImageGalleryItem } from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport { ImagesGallery } from \"./ImageGallery.styled\";\r\n\r\nexport function ImageGallery({ images, openModal }) {\r\n  return (\r\n    <>\r\n      <ImagesGallery>\r\n        {images.map((image, index) => (\r\n          <ImageGalleryItem key={index} image={image} openModal={openModal} />\r\n        ))}\r\n      </ImagesGallery>\r\n    </>\r\n  );\r\n}\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const Overlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  z-index: 1200;\r\n`;\r\n\r\nexport const ModalWindow = styled.div`\r\n  max-width: calc(100vw - 48px);\r\n  max-height: calc(100vh - 24px);\r\n`;\r\n","import { useEffect } from \"react\";\r\nimport { Overlay, ModalWindow } from \"./Modal.styled\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst modal = document.querySelector(\"#modal-root\");\r\n\r\nexport function Modal({ onClose, img }) {\r\n  const onOverlayClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose(null);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handeEscKeydown = (e) => {\r\n      if (e.code === \"Escape\") {\r\n        onClose(null);\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"keydown\", handeEscKeydown);\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handeEscKeydown);\r\n    };\r\n  }, [onClose]);\r\n\r\n  return createPortal(\r\n    <Overlay onClick={onOverlayClick}>\r\n      <ModalWindow>\r\n        <img src={img.largeImageURL} alt=\"\" />\r\n      </ModalWindow>\r\n    </Overlay>,\r\n    modal\r\n  );\r\n}\r\n","import styled from \"@emotion/styled\";\r\n\r\nexport const Searchbar = styled.header`\r\n  top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  color: #fff;\r\n  background-color: #3f51b5;\r\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nexport const SearchForm = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  background-color: #fff;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  display: inline-block;\r\n  width: 48px;\r\n  height: 48px;\r\n  border: 0;\r\n  background-image: url(\"https://image.flaticon.com/icons/svg/149/149852.svg\");\r\n  background-size: 40%;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  opacity: 0.6;\r\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  cursor: pointer;\r\n  outline: none;\r\n`;\r\n\r\nexport const ButtonLabel = styled.span`\r\n  position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  padding: 0;\r\n  overflow: hidden;\r\n  clip: rect(0, 0, 0, 0);\r\n  white-space: nowrap;\r\n  clip-path: inset(50%);\r\n  border: 0;\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nexport const Input = styled.input`\r\n  display: inline-block;\r\n  width: 100%;\r\n  font: inherit;\r\n  font-size: 20px;\r\n  border: none;\r\n  outline: none;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n  &::placeholder {\r\n    font: inherit;\r\n    font-size: 18px;\r\n  }\r\n`;\r\n","import { useState } from \"react\";\r\nimport {\r\n  Button,\r\n  ButtonLabel,\r\n  Input,\r\n  Searchbar,\r\n  SearchForm,\r\n} from \"./Searchbar.styled\";\r\n\r\nexport function Serachbar({ onSubmit }) {\r\n  const [image, setImage] = useState(\"\");\r\n  const [page] = useState(1);\r\n\r\n  const handleInputChange = (e) => {\r\n    setImage(e.target.value);\r\n  };\r\n\r\n  const handleFormSubit = (e) => {\r\n    e.preventDefault();\r\n    onSubmit(image, page);\r\n    setImage(\"\");\r\n  };\r\n\r\n  return (\r\n    <Searchbar className=\"Searchbar\">\r\n      <SearchForm onSubmit={handleFormSubit}>\r\n        <Button type=\"submit\">\r\n          <ButtonLabel className=\"SearchForm-button-label\">Search</ButtonLabel>\r\n        </Button>\r\n\r\n        <Input\r\n          onChange={handleInputChange}\r\n          className=\"SearchForm-input\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={image}\r\n        />\r\n      </SearchForm>\r\n    </Searchbar>\r\n  );\r\n}\r\n","import styled from \"@emotion/styled\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nexport const Container = styled.div`\r\n  margin: 0, auto;\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  grid-gap: 16px;\r\n  padding-bottom: 24px;\r\n  width: 100%;\r\n`;\r\n\r\nexport const StyledLoader = styled(Loader)`\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n`;\r\n","import axios from \"axios\";\r\n\r\nasync function fetchImage(imgToFind, page = 1) {\r\n  const KEY = \"22578709-fa6dea9b1a45e33c6082cdf73\";\r\n  const url = `https://pixabay.com/api/?q=${imgToFind}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n  const response = await axios.get(url);\r\n\r\n  return response.data.hits;\r\n}\r\n\r\nexport { fetchImage };\r\n\r\n// useEffect(() => {\r\n//   setStatus(\"pending\");\r\n//   fetchImage(image).then((imagesToGallery) => {\r\n//     setImagesInGallery(imagesToGallery);\r\n//     setStatus(\"resolved\");\r\n//   });\r\n// }, [image]);\r\n\r\n// useEffect(() => {\r\n//   setStatus(\"pending\");\r\n//   fetchImage(image, page)\r\n//     .then((imagesToGallery) => {\r\n//       setImagesInGallery([...imagesInGallery, ...imagesToGallery]);\r\n//       setStatus(\"resolved\");\r\n//     })\r\n//     .then(\r\n//       window.scrollTo({\r\n//         top: document.documentElement.scrollHeight,\r\n//         behavior: \"smooth\",\r\n//       })\r\n//     );\r\n// }, [image, imagesInGallery, page]);\r\n","import { useState, useEffect, useRef } from \"react\";\nimport { Button } from \"../Button/Button\";\nimport { ImageGallery } from \"../ImageGallery/ImageGallery\";\nimport { Modal } from \"../Modal/Modal\";\nimport { Serachbar } from \"../Searchbar/Serachbar\";\nimport { Container, StyledLoader } from \"./App.styled\";\nimport { fetchImage } from \"../../servises/image-api\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nexport function App() {\n  const isFirstRender = useRef(true);\n  const [imgInModal, setImgInModal] = useState(null);\n  const [image, setImage] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [imagesInGallery, setImagesInGallery] = useState([]);\n  const [status, setStatus] = useState(\"idle\");\n\n  useEffect(() => {\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n      return;\n    }\n\n    const fetch = async () => {\n      if (image.trim()) {\n        try {\n          setStatus(\"pending\");\n          const imagesToGallery = await fetchImage(image, page);\n          if (imagesToGallery.length === 0) {\n            throw new Error();\n          }\n          page === 1\n            ? setImagesInGallery(imagesToGallery)\n            : setImagesInGallery((state) => [...state, ...imagesToGallery]);\n\n          setStatus(\"resolved\");\n\n          page === 1\n            ? window.scrollTo({ top: 0, behavior: \"smooth\" })\n            : window.scrollTo({\n                top: document.documentElement.scrollHeight,\n                behavior: \"smooth\",\n              });\n        } catch {\n          setImagesInGallery([]);\n          toast.error(\"По вашему запросу ничего не найдено\");\n        }\n      }\n    };\n    fetch();\n  }, [image, page]);\n\n  const handleGetImg = (image, page) => {\n    setImage(image);\n    setPage(page);\n  };\n  const handleModalOpen = (imgInModal) => {\n    setImgInModal(imgInModal);\n  };\n\n  const isVisible = imagesInGallery.length > 0;\n\n  if (status === \"idle\" || \"resolved\") {\n    return (\n      <Container>\n        <Serachbar onSubmit={handleGetImg} />;\n        <ImageGallery images={imagesInGallery} openModal={handleModalOpen} />\n        {isVisible && <Button onClick={setPage} page={page} />}\n        {imgInModal && <Modal onClose={setImgInModal} img={imgInModal} />}\n        <ToastContainer />\n      </Container>\n    );\n  }\n\n  if (status === \"pending\") {\n    return (\n      <StyledLoader type=\"ThreeDots\" color=\"#3f51b5\" height={80} width={80} />\n    );\n  }\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { App } from \"./components/App/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}